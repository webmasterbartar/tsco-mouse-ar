<!DOCTYPE html>
<html>
<head>
    <title>موس TSCO AR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- استفاده از نسخه‌های پایدار قدیمی‌تر -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.8/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <div style="position: fixed; top: 10px; left: 50%; transform: translateX(-50%); 
                background: rgba(0,0,0,0.7); color: white; padding: 10px; 
                border-radius: 5px; z-index: 1000; text-align: center;">
        دوربین را به سمت مارکر Hiro بگیرید
    </div>

    <a-scene embedded
             arjs="sourceType: webcam; 
                   debugUIEnabled: true;
                   detectionMode: mono;
                   maxDetectionRate: 60;
                   canvasWidth: 1280;
                   canvasHeight: 960;
                   displayWidth: 1280;
                   displayHeight: 960;
                   patternRatio: 0.75;
                   sourceWidth: 1280;
                   sourceHeight: 960;
                   trackingMethod: best;">

        <a-marker preset="hiro"
                 smooth="true"
                 smoothCount="10"
                 smoothTolerance="0.01"
                 smoothThreshold="5"
                 raycaster="objects: .clickable"
                 emitevents="true"
                 cursor="fuse: false; rayOrigin: mouse;">

            <!-- مکعب با انیمیشن -->
            <a-box position="0 0.5 0" 
                   material="color: red;"
                   animation="property: rotation; 
                             to: 0 360 0; 
                             dur: 2000;
                             easing: linear; 
                             loop: true">
            </a-box>

            <!-- متن با کیفیت بالاتر -->
            <a-text value="TSCO Mouse"
                    align="center"
                    position="0 1 0"
                    rotation="-90 0 0"
                    color="white"
                    scale="2 2 2"
                    font="https://cdn.aframe.io/fonts/Roboto-msdf.json"
                    negate="false">
            </a-text>
        </a-marker>
        
        <a-entity camera look-controls></a-entity>
    </a-scene>

    <script>
        window.onload = function() {
            const marker = document.querySelector('a-marker');
            
            marker.addEventListener('markerFound', function() {
                console.log('Marker Found!');
            });
            
            marker.addEventListener('markerLost', function() {
                console.log('Marker Lost!');
            });

            // تنظیم کیفیت دوربین
            navigator.mediaDevices.getUserMedia({
                video: {
                    facingMode: 'environment',
                    width: { ideal: 1280 },
                    height: { ideal: 960 }
                }
            }).then(function(stream) {
                console.log('Camera initialized with high quality');
                stream.getTracks().forEach(track => track.stop());
            });
        };
    </script>
</body>
</html> 
